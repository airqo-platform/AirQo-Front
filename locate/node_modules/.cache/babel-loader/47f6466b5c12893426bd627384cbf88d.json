{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Documents\\\\Projects\\\\AirQo-frontend\\\\locate\\\\src\\\\App.js\";\nimport React, { Component } from \"react\";\nimport \"./App.css\";\nimport { BrowserRouter as Router, Route, Switch, Redirect } from \"react-router-dom\";\nimport jwt_decode from \"jwt-decode\";\nimport setAuthToken from \"./utils/setAuthToken\";\nimport { setCurrentUser, logoutUser } from \"./redux/Join/actions\";\nimport { Provider } from \"react-redux\";\nimport store from \"./store\";\nimport { ThemeProvider } from \"@material-ui/styles\";\nimport theme from \"./assets/theme\";\nimport Navbar from \"./views/components/Navbars/Navbar\";\nimport Landing from \"./views/layouts/Landing\";\nimport Admin from \"./views/layouts/Admin\";\nimport Register from \"./views/components/Inputs/Register\";\nimport ForgotPassword from \"./views/components/Inputs/ForgotPassword\";\nimport ResetPassword from \"./views/components/Inputs/ResetPassword\";\nimport RegisterAnalytics from \"./views/components/Inputs/RegisterAnalytics\";\nimport { Main as MainLayout, Maps as MapLayout, Minimal as MinimalLayout } from \"../src/views/layouts/\";\nimport Login from \"./views/components/Inputs/Login\";\nimport Profile from \"./views/components/Inputs/UserProfile\";\nimport Settings from \"./views/components/Inputs/Settings\";\nimport PrivateRoute from \"./views/components/PrivateRoute/PrivateRoute\";\nimport Dashboard from \"./views/components/Dashboard/Dashboard\";\nimport Map from \"./views/components/Map\";\nimport Devices from \"./views/components/DataDisplay/Devices\";\nimport Users from \"./views/components/DataDisplay/Users\";\nimport Manager from \"./views/components/DataDisplay/DeviceManagement\";\nimport Incentives from \"./views/components/DataDisplay/Incentives\";\nimport { LocationList } from \"./views/components/LocationList\"; // Check for token to keep user logged in\n\nif (localStorage.jwtToken) {\n  // Set auth token header auth\n  const token = localStorage.jwtToken;\n  setAuthToken(token); // Decode token and get user info and exp\n\n  const decoded = jwt_decode(token); // Set user and isAuthenticated\n\n  store.dispatch(setCurrentUser(decoded)); // Check for expired token\n\n  const currentTime = Date.now() / 1000; // to get in milliseconds\n\n  if (decoded.exp < currentTime) {\n    // Logout user\n    store.dispatch(logoutUser()); // Redirect to login\n\n    window.location.href = \"./login\";\n  }\n}\n\nclass App extends Component {\n  render() {\n    return React.createElement(Provider, {\n      store: store,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(ThemeProvider, {\n      theme: theme,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(Router, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      component: Landing,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/register\",\n      component: Register,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/login\",\n      component: Login,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/forgot\",\n      component: ForgotPassword,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/reset/:token\",\n      component: ResetPassword,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/analytics\",\n      component: RegisterAnalytics,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }), React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(PrivateRoute, {\n      exact: true,\n      path: \"/dashboard\",\n      component: Dashboard,\n      layout: MainLayout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }), React.createElement(PrivateRoute, {\n      exact: true,\n      path: \"/locate\",\n      component: Map,\n      layout: MainLayout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }), React.createElement(PrivateRoute, {\n      extact: true,\n      path: \"/registry\",\n      component: Devices,\n      layout: MainLayout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }), React.createElement(PrivateRoute, {\n      extact: true,\n      path: \"/location\",\n      component: LocationList,\n      layout: MainLayout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }), React.createElement(PrivateRoute, {\n      exact: true,\n      path: \"/admin/users\",\n      component: Users,\n      layout: MainLayout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }), React.createElement(PrivateRoute, {\n      exact: true,\n      path: \"/account\",\n      component: Profile,\n      layout: MainLayout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }), React.createElement(PrivateRoute, {\n      exact: true,\n      path: \"/settings\",\n      component: Settings,\n      layout: MainLayout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }), React.createElement(PrivateRoute, {\n      exact: true,\n      path: \"/manager\",\n      component: Manager,\n      layout: MainLayout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }), React.createElement(PrivateRoute, {\n      exact: true,\n      path: \"/incentives\",\n      component: Incentives,\n      layout: MainLayout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }))))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/User/Documents/Projects/AirQo-frontend/locate/src/App.js"],"names":["React","Component","BrowserRouter","Router","Route","Switch","Redirect","jwt_decode","setAuthToken","setCurrentUser","logoutUser","Provider","store","ThemeProvider","theme","Navbar","Landing","Admin","Register","ForgotPassword","ResetPassword","RegisterAnalytics","Main","MainLayout","Maps","MapLayout","Minimal","MinimalLayout","Login","Profile","Settings","PrivateRoute","Dashboard","Map","Devices","Users","Manager","Incentives","LocationList","localStorage","jwtToken","token","decoded","dispatch","currentTime","Date","now","exp","window","location","href","App","render"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./App.css\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  Switch,\r\n  Redirect,\r\n} from \"react-router-dom\";\r\n\r\nimport jwt_decode from \"jwt-decode\";\r\nimport setAuthToken from \"./utils/setAuthToken\";\r\nimport { setCurrentUser, logoutUser } from \"./redux/Join/actions\";\r\n\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./store\";\r\nimport { ThemeProvider } from \"@material-ui/styles\";\r\nimport theme from \"./assets/theme\";\r\n\r\nimport Navbar from \"./views/components/Navbars/Navbar\";\r\nimport Landing from \"./views/layouts/Landing\";\r\nimport Admin from \"./views/layouts/Admin\";\r\nimport Register from \"./views/components/Inputs/Register\";\r\nimport ForgotPassword from \"./views/components/Inputs/ForgotPassword\";\r\nimport ResetPassword from \"./views/components/Inputs/ResetPassword\";\r\nimport RegisterAnalytics from \"./views/components/Inputs/RegisterAnalytics\";\r\nimport {\r\n  Main as MainLayout,\r\n  Maps as MapLayout,\r\n  Minimal as MinimalLayout,\r\n} from \"../src/views/layouts/\";\r\nimport Login from \"./views/components/Inputs/Login\";\r\nimport Profile from \"./views/components/Inputs/UserProfile\";\r\nimport Settings from \"./views/components/Inputs/Settings\";\r\nimport PrivateRoute from \"./views/components/PrivateRoute/PrivateRoute\";\r\nimport Dashboard from \"./views/components/Dashboard/Dashboard\";\r\nimport Map from \"./views/components/Map\";\r\nimport Devices from \"./views/components/DataDisplay/Devices\";\r\nimport Users from \"./views/components/DataDisplay/Users\";\r\nimport Manager from \"./views/components/DataDisplay/DeviceManagement\";\r\nimport Incentives from \"./views/components/DataDisplay/Incentives\";\r\nimport { LocationList } from \"./views/components/LocationList\";\r\n\r\n// Check for token to keep user logged in\r\nif (localStorage.jwtToken) {\r\n  // Set auth token header auth\r\n  const token = localStorage.jwtToken;\r\n  setAuthToken(token);\r\n  // Decode token and get user info and exp\r\n  const decoded = jwt_decode(token);\r\n  // Set user and isAuthenticated\r\n  store.dispatch(setCurrentUser(decoded));\r\n  // Check for expired token\r\n  const currentTime = Date.now() / 1000; // to get in milliseconds\r\n  if (decoded.exp < currentTime) {\r\n    // Logout user\r\n    store.dispatch(logoutUser());\r\n    // Redirect to login\r\n    window.location.href = \"./login\";\r\n  }\r\n}\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <Provider store={store}>\r\n        <ThemeProvider theme={theme}>\r\n          <Router>\r\n            <div className=\"App\">\r\n              <Route exact path=\"/\" component={Landing} />\r\n              <Route exact path=\"/register\" component={Register} />\r\n              <Route exact path=\"/login\" component={Login} />\r\n              <Route exact path=\"/forgot\" component={ForgotPassword} />\r\n              <Route exact path=\"/reset/:token\" component={ResetPassword} />\r\n              <Route exact path=\"/analytics\" component={RegisterAnalytics} />\r\n              <Switch>\r\n                <PrivateRoute\r\n                  exact\r\n                  path=\"/dashboard\"\r\n                  component={Dashboard}\r\n                  layout={MainLayout}\r\n                />\r\n                <PrivateRoute\r\n                  exact\r\n                  path=\"/locate\"\r\n                  component={Map}\r\n                  layout={MainLayout}\r\n                />\r\n                <PrivateRoute\r\n                  extact\r\n                  path=\"/registry\"\r\n                  component={Devices}\r\n                  layout={MainLayout}\r\n                />\r\n                <PrivateRoute\r\n                  extact\r\n                  path=\"/location\"\r\n                  component={LocationList}\r\n                  layout={MainLayout}\r\n                />\r\n                <PrivateRoute\r\n                  exact\r\n                  path=\"/admin/users\"\r\n                  component={Users}\r\n                  layout={MainLayout}\r\n                />\r\n                <PrivateRoute\r\n                  exact\r\n                  path=\"/account\"\r\n                  component={Profile}\r\n                  layout={MainLayout}\r\n                />\r\n\r\n                <PrivateRoute\r\n                  exact\r\n                  path=\"/settings\"\r\n                  component={Settings}\r\n                  layout={MainLayout}\r\n                />\r\n\r\n                <PrivateRoute\r\n                  exact\r\n                  path=\"/manager\"\r\n                  component={Manager}\r\n                  layout={MainLayout}\r\n                />\r\n\r\n                <PrivateRoute\r\n                  exact\r\n                  path=\"/incentives\"\r\n                  component={Incentives}\r\n                  layout={MainLayout}\r\n                />\r\n              </Switch>\r\n            </div>\r\n          </Router>\r\n        </ThemeProvider>\r\n      </Provider>\r\n    );\r\n  }\r\n}\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}