{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\User\\\\Documents\\\\Projects\\\\AirQo-frontend\\\\locate\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\User\\\\Documents\\\\Projects\\\\AirQo-frontend\\\\locate\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\Users\\\\User\\\\Documents\\\\Projects\\\\AirQo-frontend\\\\locate\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\Users\\\\User\\\\Documents\\\\Projects\\\\AirQo-frontend\\\\locate\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\Users\\\\User\\\\Documents\\\\Projects\\\\AirQo-frontend\\\\locate\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import\"./App.css\";import{BrowserRouter as Router,Route,Switch,Redirect}from\"react-router-dom\";import jwt_decode from\"jwt-decode\";import setAuthToken from\"./utils/setAuthToken\";import{setCurrentUser,logoutUser}from\"./redux/Join/actions\";import{Provider}from\"react-redux\";import store from\"./store\";import{ThemeProvider}from\"@material-ui/styles\";import theme from\"./assets/theme\";import Navbar from\"./views/components/Navbars/Navbar\";import Landing from\"./views/layouts/Landing\";import Admin from\"./views/layouts/Admin\";import Register from\"./views/components/Inputs/Register\";import ForgotPassword from\"./views/components/Inputs/ForgotPassword\";import ResetPassword from\"./views/components/Inputs/ResetPassword\";import RegisterAnalytics from\"./views/components/Inputs/RegisterAnalytics\";import{Main as MainLayout,Maps as MapLayout,Minimal as MinimalLayout}from\"../src/views/layouts/\";import Login from\"./views/components/Inputs/Login\";import Profile from\"./views/components/Inputs/UserProfile\";import Settings from\"./views/components/Inputs/Settings\";import PrivateRoute from\"./views/components/PrivateRoute/PrivateRoute\";import Dashboard from\"./views/components/Dashboard/Dashboard\";import Map from\"./views/components/Map\";import Devices from\"./views/components/DataDisplay/Devices\";import Users from\"./views/components/DataDisplay/Users\";import Manager from\"./views/components/DataDisplay/DeviceManagement\";import Incentives from\"./views/components/DataDisplay/Incentives\";import{LocationList}from\"./views/components/LocationList\";// Check for token to keep user logged in\nif(localStorage.jwtToken){// Set auth token header auth\nvar token=localStorage.jwtToken;setAuthToken(token);// Decode token and get user info and exp\nvar decoded=jwt_decode(token);// Set user and isAuthenticated\nstore.dispatch(setCurrentUser(decoded));// Check for expired token\nvar currentTime=Date.now()/1000;// to get in milliseconds\nif(decoded.exp<currentTime){// Logout user\nstore.dispatch(logoutUser());// Redirect to login\nwindow.location.href=\"./login\";}}var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);function App(){_classCallCheck(this,App);return _possibleConstructorReturn(this,_getPrototypeOf(App).apply(this,arguments));}_createClass(App,[{key:\"render\",value:function render(){return React.createElement(Provider,{store:store},React.createElement(ThemeProvider,{theme:theme},React.createElement(Router,null,React.createElement(\"div\",{className:\"App\"},React.createElement(Route,{exact:true,path:\"/\",component:Landing}),React.createElement(Route,{exact:true,path:\"/register\",component:Register}),React.createElement(Route,{exact:true,path:\"/login\",component:Login}),React.createElement(Route,{exact:true,path:\"/forgot\",component:ForgotPassword}),React.createElement(Route,{exact:true,path:\"/reset/:token\",component:ResetPassword}),React.createElement(Route,{exact:true,path:\"/analytics\",component:RegisterAnalytics}),React.createElement(Switch,null,React.createElement(PrivateRoute,{exact:true,path:\"/dashboard\",component:Dashboard,layout:MainLayout}),React.createElement(PrivateRoute,{exact:true,path:\"/locate\",component:Map,layout:MainLayout}),React.createElement(PrivateRoute,{extact:true,path:\"/registry\",component:Devices,layout:MainLayout}),React.createElement(PrivateRoute,{extact:true,path:\"/location\",component:LocationList,layout:MainLayout}),React.createElement(PrivateRoute,{exact:true,path:\"/admin/users\",component:Users,layout:MainLayout}),React.createElement(PrivateRoute,{exact:true,path:\"/account\",component:Profile,layout:MainLayout}),React.createElement(PrivateRoute,{exact:true,path:\"/settings\",component:Settings,layout:MainLayout}),React.createElement(PrivateRoute,{exact:true,path:\"/manager\",component:Manager,layout:MainLayout}),React.createElement(PrivateRoute,{exact:true,path:\"/incentives\",component:Incentives,layout:MainLayout}))))));}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["C:/Users/User/Documents/Projects/AirQo-frontend/locate/src/App.js"],"names":["React","Component","BrowserRouter","Router","Route","Switch","Redirect","jwt_decode","setAuthToken","setCurrentUser","logoutUser","Provider","store","ThemeProvider","theme","Navbar","Landing","Admin","Register","ForgotPassword","ResetPassword","RegisterAnalytics","Main","MainLayout","Maps","MapLayout","Minimal","MinimalLayout","Login","Profile","Settings","PrivateRoute","Dashboard","Map","Devices","Users","Manager","Incentives","LocationList","localStorage","jwtToken","token","decoded","dispatch","currentTime","Date","now","exp","window","location","href","App"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./App.css\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  Switch,\r\n  Redirect,\r\n} from \"react-router-dom\";\r\n\r\nimport jwt_decode from \"jwt-decode\";\r\nimport setAuthToken from \"./utils/setAuthToken\";\r\nimport { setCurrentUser, logoutUser } from \"./redux/Join/actions\";\r\n\r\nimport { Provider } from \"react-redux\";\r\nimport store from \"./store\";\r\nimport { ThemeProvider } from \"@material-ui/styles\";\r\nimport theme from \"./assets/theme\";\r\n\r\nimport Navbar from \"./views/components/Navbars/Navbar\";\r\nimport Landing from \"./views/layouts/Landing\";\r\nimport Admin from \"./views/layouts/Admin\";\r\nimport Register from \"./views/components/Inputs/Register\";\r\nimport ForgotPassword from \"./views/components/Inputs/ForgotPassword\";\r\nimport ResetPassword from \"./views/components/Inputs/ResetPassword\";\r\nimport RegisterAnalytics from \"./views/components/Inputs/RegisterAnalytics\";\r\nimport {\r\n  Main as MainLayout,\r\n  Maps as MapLayout,\r\n  Minimal as MinimalLayout,\r\n} from \"../src/views/layouts/\";\r\nimport Login from \"./views/components/Inputs/Login\";\r\nimport Profile from \"./views/components/Inputs/UserProfile\";\r\nimport Settings from \"./views/components/Inputs/Settings\";\r\nimport PrivateRoute from \"./views/components/PrivateRoute/PrivateRoute\";\r\nimport Dashboard from \"./views/components/Dashboard/Dashboard\";\r\nimport Map from \"./views/components/Map\";\r\nimport Devices from \"./views/components/DataDisplay/Devices\";\r\nimport Users from \"./views/components/DataDisplay/Users\";\r\nimport Manager from \"./views/components/DataDisplay/DeviceManagement\";\r\nimport Incentives from \"./views/components/DataDisplay/Incentives\";\r\nimport { LocationList } from \"./views/components/LocationList\";\r\n\r\n// Check for token to keep user logged in\r\nif (localStorage.jwtToken) {\r\n  // Set auth token header auth\r\n  const token = localStorage.jwtToken;\r\n  setAuthToken(token);\r\n  // Decode token and get user info and exp\r\n  const decoded = jwt_decode(token);\r\n  // Set user and isAuthenticated\r\n  store.dispatch(setCurrentUser(decoded));\r\n  // Check for expired token\r\n  const currentTime = Date.now() / 1000; // to get in milliseconds\r\n  if (decoded.exp < currentTime) {\r\n    // Logout user\r\n    store.dispatch(logoutUser());\r\n    // Redirect to login\r\n    window.location.href = \"./login\";\r\n  }\r\n}\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <Provider store={store}>\r\n        <ThemeProvider theme={theme}>\r\n          <Router>\r\n            <div className=\"App\">\r\n              <Route exact path=\"/\" component={Landing} />\r\n              <Route exact path=\"/register\" component={Register} />\r\n              <Route exact path=\"/login\" component={Login} />\r\n              <Route exact path=\"/forgot\" component={ForgotPassword} />\r\n              <Route exact path=\"/reset/:token\" component={ResetPassword} />\r\n              <Route exact path=\"/analytics\" component={RegisterAnalytics} />\r\n              <Switch>\r\n                <PrivateRoute\r\n                  exact\r\n                  path=\"/dashboard\"\r\n                  component={Dashboard}\r\n                  layout={MainLayout}\r\n                />\r\n                <PrivateRoute\r\n                  exact\r\n                  path=\"/locate\"\r\n                  component={Map}\r\n                  layout={MainLayout}\r\n                />\r\n                <PrivateRoute\r\n                  extact\r\n                  path=\"/registry\"\r\n                  component={Devices}\r\n                  layout={MainLayout}\r\n                />\r\n                <PrivateRoute\r\n                  extact\r\n                  path=\"/location\"\r\n                  component={LocationList}\r\n                  layout={MainLayout}\r\n                />\r\n                <PrivateRoute\r\n                  exact\r\n                  path=\"/admin/users\"\r\n                  component={Users}\r\n                  layout={MainLayout}\r\n                />\r\n                <PrivateRoute\r\n                  exact\r\n                  path=\"/account\"\r\n                  component={Profile}\r\n                  layout={MainLayout}\r\n                />\r\n\r\n                <PrivateRoute\r\n                  exact\r\n                  path=\"/settings\"\r\n                  component={Settings}\r\n                  layout={MainLayout}\r\n                />\r\n\r\n                <PrivateRoute\r\n                  exact\r\n                  path=\"/manager\"\r\n                  component={Manager}\r\n                  layout={MainLayout}\r\n                />\r\n\r\n                <PrivateRoute\r\n                  exact\r\n                  path=\"/incentives\"\r\n                  component={Incentives}\r\n                  layout={MainLayout}\r\n                />\r\n              </Switch>\r\n            </div>\r\n          </Router>\r\n        </ThemeProvider>\r\n      </Provider>\r\n    );\r\n  }\r\n}\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}